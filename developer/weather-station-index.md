# Weather Station å¼€å‘è€…æ–‡æ¡£ç´¢å¼•

**ç‰ˆæœ¬ï¼š** 1.0.0  
**æœ€åæ›´æ–°ï¼š** 2025-10-06

---

## ğŸ“š æ–‡æ¡£ç›®å½•

### 1. [æ¶æ„æ¦‚è¿°](weather-station-overview.md)
**æ¨èé˜…è¯»é¡ºåºï¼šç¬¬ 1 ç¯‡**

å…¨é¢ä»‹ç» Weather Station çš„æ•´ä½“æ¶æ„ã€æ ¸å¿ƒæ¦‚å¿µå’Œè®¾è®¡æ¨¡å¼ã€‚

**ä¸»è¦å†…å®¹ï¼š**
- TFLã€DAGã€Flowã€Cycleã€Node æ ¸å¿ƒæ¦‚å¿µ
- ç³»ç»Ÿæ¶æ„å’Œåˆ†å±‚è®¾è®¡
- å…³é”®ç»„ä»¶ä»‹ç»
- æŠ€æœ¯æ ˆå’Œè®¾è®¡æ¨¡å¼
- æ•°æ®æµæ¦‚è§ˆ

**é€‚åˆäººç¾¤ï¼š** æ‰€æœ‰å¼€å‘è€…ã€æ¶æ„å¸ˆã€æ–°æˆå‘˜

---

### 2. [æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£](weather-station-message-queue.md)
**æ¨èé˜…è¯»é¡ºåºï¼šç¬¬ 2 ç¯‡**

æ·±å…¥è®²è§£åŸºäº RabbitMQ çš„ä¿¡å·ä¼ é€’æœºåˆ¶ã€‚

**ä¸»è¦å†…å®¹ï¼š**
- RabbitMQ Topic Exchange æ¶æ„
- Routing Key è®¾è®¡è§„èŒƒ
- Queue å‘½åå’Œç»‘å®š
- ä¿¡å·ä¼ é€’å®Œæ•´æµç¨‹
- Handle åŒ¹é…æœºåˆ¶
- ç‰¹æ®Šåœºæ™¯ï¼ˆèšåˆã€é€šé…ç¬¦ã€åœæ­¢ä¿¡å·ï¼‰
- å®æˆ˜ç¤ºä¾‹

**é€‚åˆäººç¾¤ï¼š** åç«¯å¼€å‘è€…ã€ç³»ç»Ÿé›†æˆå·¥ç¨‹å¸ˆ

---

### 3. [Redis çŠ¶æ€ç®¡ç†](weather-station-redis.md)
**æ¨èé˜…è¯»é¡ºåºï¼šç¬¬ 3 ç¯‡**

è¯¦ç»†è¯´æ˜ Redis çŠ¶æ€å­˜å‚¨çš„è®¾è®¡å’Œä½¿ç”¨ã€‚

**ä¸»è¦å†…å®¹ï¼š**
- Redis æ¶æ„å’Œæ•°æ®ç»“æ„
- Key å‘½åè§„èŒƒ
- Flowã€Cycleã€Node çŠ¶æ€ç®¡ç†
- Worker ç®¡ç†å’Œå¿ƒè·³æœºåˆ¶
- çŠ¶æ€æŸ¥è¯¢æ¥å£
- æ•°æ®æ¸…ç†ç­–ç•¥

**é€‚åˆäººç¾¤ï¼š** åç«¯å¼€å‘è€…ã€è¿ç»´å·¥ç¨‹å¸ˆ

---

### 4. [èŠ‚ç‚¹æ‰§è¡Œæµç¨‹](weather-station-node-execution.md)
**æ¨èé˜…è¯»é¡ºåºï¼šç¬¬ 4 ç¯‡**

å®Œæ•´è®²è§£èŠ‚ç‚¹ä»åˆ›å»ºåˆ°æ¸…ç†çš„ç”Ÿå‘½å‘¨æœŸã€‚

**ä¸»è¦å†…å®¹ï¼š**
- èŠ‚ç‚¹ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€è½¬æ¢
- èŠ‚ç‚¹åˆ›å»ºå’Œå®ä¾‹åŒ–
- ä¿¡å·ç­‰å¾…æœºåˆ¶
- æ‰§è¡Œæµç¨‹ï¼ˆæ•°æ®å¤„ç†ã€æ¡ä»¶åˆ¤æ–­ã€äº¤æ˜“æ‰§è¡Œï¼‰
- ä¿¡å·å‘é€æœºåˆ¶
- å¼‚å¸¸å¤„ç†å’Œèµ„æºæ¸…ç†
- å¼€å‘æ–°èŠ‚ç‚¹æŒ‡å—

**é€‚åˆäººç¾¤ï¼š** èŠ‚ç‚¹å¼€å‘è€…ã€ä¸šåŠ¡é€»è¾‘å®ç°è€…

---

### 5. [Flow è°ƒåº¦æœºåˆ¶](weather-station-flow-scheduling.md)
**æ¨èé˜…è¯»é¡ºåºï¼šç¬¬ 5 ç¯‡**

æ·±å…¥è§£æ FlowScheduler çš„è°ƒåº¦é€»è¾‘å’Œ DAG ç¼–æ’ã€‚

**ä¸»è¦å†…å®¹ï¼š**
- FlowScheduler æ¶æ„å’ŒèŒè´£
- Flow æ³¨å†Œæµç¨‹
- DAG åˆ†æï¼ˆè¿é€šåˆ†é‡ã€ç¯æ£€æµ‹ã€å…¥å£èŠ‚ç‚¹ï¼‰
- å‘¨æœŸè°ƒåº¦å¾ªç¯
- Cycle æ‰§è¡Œå’ŒèŠ‚ç‚¹ç¼–æ’
- çŠ¶æ€ç®¡ç†å’ŒæŸ¥è¯¢
- æ—¥å¿—ç³»ç»Ÿ

**é€‚åˆäººç¾¤ï¼š** ç³»ç»Ÿæ¶æ„å¸ˆã€è°ƒåº¦é€»è¾‘å¼€å‘è€…

---

## ğŸš€ å¿«é€Ÿå¯¼èˆª

### æŒ‰è§’è‰²æŸ¥çœ‹

#### æ–°æˆå‘˜å…¥é—¨
1. [æ¶æ„æ¦‚è¿°](weather-station-overview.md) - äº†è§£ç³»ç»Ÿå…¨è²Œ
2. [èŠ‚ç‚¹æ‰§è¡Œæµç¨‹](weather-station-node-execution.md) - ç†è§£èŠ‚ç‚¹å·¥ä½œåŸç†
3. [æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£](weather-station-message-queue.md) - æŒæ¡é€šä¿¡æœºåˆ¶

#### èŠ‚ç‚¹å¼€å‘è€…
1. [èŠ‚ç‚¹æ‰§è¡Œæµç¨‹](weather-station-node-execution.md) - å¼€å‘æ–°èŠ‚ç‚¹
2. [æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£](weather-station-message-queue.md) - ç†è§£ä¿¡å·ä¼ é€’
3. [Redis çŠ¶æ€ç®¡ç†](weather-station-redis.md) - ä½¿ç”¨çŠ¶æ€å­˜å‚¨

#### ç³»ç»Ÿæ¶æ„å¸ˆ
1. [æ¶æ„æ¦‚è¿°](weather-station-overview.md) - æ•´ä½“æ¶æ„
2. [Flow è°ƒåº¦æœºåˆ¶](weather-station-flow-scheduling.md) - è°ƒåº¦è®¾è®¡
3. [Redis çŠ¶æ€ç®¡ç†](weather-station-redis.md) - çŠ¶æ€è®¾è®¡

#### è¿ç»´å·¥ç¨‹å¸ˆ
1. [Redis çŠ¶æ€ç®¡ç†](weather-station-redis.md) - çŠ¶æ€å­˜å‚¨è¿ç»´
2. [Flow è°ƒåº¦æœºåˆ¶](weather-station-flow-scheduling.md) - è°ƒåº¦ç›‘æ§
3. [æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£](weather-station-message-queue.md) - RabbitMQ è¿ç»´

### æŒ‰ä¸»é¢˜æŸ¥çœ‹

#### é€šä¿¡æœºåˆ¶
- [æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£](weather-station-message-queue.md)
- [èŠ‚ç‚¹æ‰§è¡Œæµç¨‹ - ä¿¡å·å‘é€æœºåˆ¶](weather-station-node-execution.md#ä¿¡å·å‘é€æœºåˆ¶)

#### çŠ¶æ€ç®¡ç†
- [Redis çŠ¶æ€ç®¡ç†](weather-station-redis.md)
- [Flow è°ƒåº¦æœºåˆ¶ - çŠ¶æ€ç®¡ç†](weather-station-flow-scheduling.md#çŠ¶æ€ç®¡ç†)

#### ç¼–æ’è°ƒåº¦
- [Flow è°ƒåº¦æœºåˆ¶](weather-station-flow-scheduling.md)
- [æ¶æ„æ¦‚è¿° - æ•°æ®æµ](weather-station-overview.md#æ•°æ®æµ)

#### èŠ‚ç‚¹å¼€å‘
- [èŠ‚ç‚¹æ‰§è¡Œæµç¨‹ - å¼€å‘æ–°èŠ‚ç‚¹](weather-station-node-execution.md#å¼€å‘æ–°èŠ‚ç‚¹)
- [æ¶æ„æ¦‚è¿° - å…³é”®ç»„ä»¶](weather-station-overview.md#å…³é”®ç»„ä»¶)

---

## ğŸ“– é˜…è¯»å»ºè®®

### å®Œæ•´å­¦ä¹ è·¯å¾„ï¼ˆæ¨èï¼‰
é€‚åˆç¬¬ä¸€æ¬¡æ¥è§¦ Weather Station çš„å¼€å‘è€…ã€‚

```
1. æ¶æ„æ¦‚è¿° (30 åˆ†é’Ÿ)
   â†“
2. æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£ (40 åˆ†é’Ÿ)
   â†“
3. Redis çŠ¶æ€ç®¡ç† (30 åˆ†é’Ÿ)
   â†“
4. èŠ‚ç‚¹æ‰§è¡Œæµç¨‹ (40 åˆ†é’Ÿ)
   â†“
5. Flow è°ƒåº¦æœºåˆ¶ (40 åˆ†é’Ÿ)
```

**æ€»æ—¶é•¿ï¼š** çº¦ 3 å°æ—¶

### å¿«é€Ÿä¸Šæ‰‹è·¯å¾„
é€‚åˆéœ€è¦å¿«é€Ÿå¼€å§‹å¼€å‘çš„äººå‘˜ã€‚

```
1. æ¶æ„æ¦‚è¿° - æ ¸å¿ƒæ¦‚å¿µ (15 åˆ†é’Ÿ)
   â†“
2. èŠ‚ç‚¹æ‰§è¡Œæµç¨‹ - å¼€å‘æ–°èŠ‚ç‚¹ (20 åˆ†é’Ÿ)
   â†“
3. æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£ - å®æˆ˜ç¤ºä¾‹ (15 åˆ†é’Ÿ)
```

**æ€»æ—¶é•¿ï¼š** çº¦ 50 åˆ†é’Ÿ

### é—®é¢˜é©±åŠ¨è·¯å¾„
æ ¹æ®å…·ä½“é—®é¢˜å¿«é€Ÿå®šä½æ–‡æ¡£ã€‚

| é—®é¢˜ | æŸ¥çœ‹æ–‡æ¡£ |
|------|---------|
| å¦‚ä½•å¼€å‘æ–°èŠ‚ç‚¹ï¼Ÿ | [èŠ‚ç‚¹æ‰§è¡Œæµç¨‹ - å¼€å‘æ–°èŠ‚ç‚¹](weather-station-node-execution.md#å¼€å‘æ–°èŠ‚ç‚¹) |
| ä¿¡å·å¦‚ä½•ä¼ é€’ï¼Ÿ | [æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£ - ä¿¡å·ä¼ é€’æµç¨‹](weather-station-message-queue.md#ä¿¡å·ä¼ é€’æµç¨‹) |
| å¦‚ä½•æŸ¥è¯¢èŠ‚ç‚¹çŠ¶æ€ï¼Ÿ | [Redis çŠ¶æ€ç®¡ç† - çŠ¶æ€æŸ¥è¯¢](weather-station-redis.md#çŠ¶æ€æŸ¥è¯¢) |
| Flow å¦‚ä½•è°ƒåº¦ï¼Ÿ | [Flow è°ƒåº¦æœºåˆ¶ - å‘¨æœŸè°ƒåº¦](weather-station-flow-scheduling.md#å‘¨æœŸè°ƒåº¦) |
| å¦‚ä½•å¤„ç†èšåˆæ•°æ®ï¼Ÿ | [æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£ - Handle åŒ¹é…æœºåˆ¶](weather-station-message-queue.md#handle-åŒ¹é…æœºåˆ¶) |
| DAG å¦‚ä½•åˆ†æï¼Ÿ | [Flow è°ƒåº¦æœºåˆ¶ - DAG åˆ†æ](weather-station-flow-scheduling.md#dag-åˆ†æ) |
| èŠ‚ç‚¹å¦‚ä½•åœæ­¢ï¼Ÿ | [èŠ‚ç‚¹æ‰§è¡Œæµç¨‹ - å¼‚å¸¸å¤„ç†](weather-station-node-execution.md#å¼‚å¸¸å¤„ç†) |
| Redis Key è®¾è®¡ï¼Ÿ | [Redis çŠ¶æ€ç®¡ç† - Key å‘½åè§„èŒƒ](weather-station-redis.md#key-å‘½åè§„èŒƒ) |

---

## ğŸ“¦ èŠ‚ç‚¹è¯¦æƒ…æ–‡æ¡£

Weather Station æä¾› 12+ ç§èŠ‚ç‚¹ç±»å‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ç‹¬ç«‹çš„è¯¦ç»†æ–‡æ¡£é¡µé¢ã€‚

### ğŸ”— [èŠ‚ç‚¹æ–‡æ¡£ç´¢å¼•](nodes/README.md)

**æŒ‰åˆ†ç±»æµè§ˆï¼š**

#### æ•°æ®è¾“å…¥èŠ‚ç‚¹
- **[Binance Price Node](nodes/binance-price-node.md)** - è·å– Binance äº¤æ˜“æ‰€ K çº¿æ•°æ®
- **[X Listener Node](nodes/x-listener-node.md)** - ç›‘å¬ Twitter/X å¹³å°åŠ¨æ€
- **[RSSHub Node](nodes/rsshub-node.md)** - è®¢é˜… RSS æ–°é—»èµ„è®¯
- **[Dataset Node](nodes/dataset-node.md)** - Google Sheets æ•°æ®è¯»å†™

#### AI å¤„ç†èŠ‚ç‚¹
- **[AI Model Node](nodes/ai-model-node.md)** - è°ƒç”¨ LLM è¿›è¡Œæ™ºèƒ½åˆ†æå’Œå†³ç­–
- **[Code Node](nodes/code-node.md)** - æ‰§è¡Œè‡ªå®šä¹‰ Python ä»£ç 

#### äº¤æ˜“æ‰§è¡ŒèŠ‚ç‚¹
- **[Swap Node](nodes/swap-node.md)** - å¤šé“¾ä»£å¸äº¤æ¢ï¼ˆAptosã€Flow EVMï¼‰
- **[Buy Node](nodes/buy-node.md)** - ä¸“ç”¨ä¹°å…¥èŠ‚ç‚¹
- **[Sell Node](nodes/sell-node.md)** - ä¸“ç”¨å–å‡ºèŠ‚ç‚¹
- **[Uniswap DEX Trade Node](nodes/uniswap-dex-trade-node.md)** - Uniswap äº¤æ˜“

#### Vault ç®¡ç†èŠ‚ç‚¹
- **[Vault Node](nodes/vault-node.md)** - æŸ¥è¯¢å’Œç®¡ç† Vault ä¿¡æ¯

#### é€šçŸ¥èŠ‚ç‚¹
- **[Telegram Sender Node](nodes/telegram-sender-node.md)** - å‘é€ Telegram é€šçŸ¥

### ğŸ“– æŸ¥çœ‹å®Œæ•´èŠ‚ç‚¹åˆ—è¡¨

è®¿é—® **[èŠ‚ç‚¹æ–‡æ¡£ç›®å½•](nodes/README.md)** æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹çš„è¯¦ç»†æ–‡æ¡£ï¼ŒåŒ…æ‹¬ï¼š
- å®Œæ•´çš„å‚æ•°è¯´æ˜
- è¾“å…¥è¾“å‡ºæ ¼å¼
- æ‰§è¡Œæµç¨‹å›¾
- å®é™…ä½¿ç”¨ç¤ºä¾‹
- é”™è¯¯å¤„ç†æŒ‡å—
- æ€§èƒ½ä¼˜åŒ–å»ºè®®

---

## ğŸ”§ ç›¸å…³èµ„æº

### ä»£ç ä½ç½®
- **è°ƒåº¦å™¨**: `tradingflow/station/flow/scheduler.py`
- **Flow è§£æå™¨**: `tradingflow/station/flow/flow_parser.py`
- **èŠ‚ç‚¹åŸºç±»**: `tradingflow/station/nodes/node_base.py`
- **èŠ‚ç‚¹æ‰§è¡Œå™¨**: `tradingflow/station/core/node_executor.py`
- **èŠ‚ç‚¹å®ç°**: `tradingflow/station/nodes/*_node.py`
- **æ¶ˆæ¯é˜Ÿåˆ—**: `tradingflow/depot/python/mq/`
- **çŠ¶æ€å­˜å‚¨**: `tradingflow/station/common/state_store.py`
- **ä»»åŠ¡ç®¡ç†**: `tradingflow/station/common/node_task_manager.py`

### API æ–‡æ¡£
- Weather Control API: `/api/v1/flow/*`
- Worker API: `/execute`
- èŠ‚ç‚¹åˆ—è¡¨ API: `/api/v1/nodes/types`

### é…ç½®æ–‡ä»¶
- ç¯å¢ƒå˜é‡: `.env`
- RabbitMQ é…ç½®: `CONFIG.RABBITMQ_URL`
- Redis é…ç½®: `CONFIG.REDIS_URL`

---

## ğŸ“ æ–‡æ¡£æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-06)
- âœ… åˆ›å»ºå®Œæ•´çš„ Weather Station å¼€å‘è€…æ–‡æ¡£
- âœ… æ¶æ„æ¦‚è¿°
- âœ… æ¶ˆæ¯é˜Ÿåˆ—è¯¦è§£
- âœ… Redis çŠ¶æ€ç®¡ç†
- âœ… èŠ‚ç‚¹æ‰§è¡Œæµç¨‹
- âœ… Flow è°ƒåº¦æœºåˆ¶
- âœ… èŠ‚ç‚¹è¯¦æƒ…æ–‡æ¡£ï¼ˆ12+ èŠ‚ç‚¹ï¼‰
  - âœ… Binance Price Node
  - âœ… AI Model Node
  - âœ… Swap Node
  - âœ… èŠ‚ç‚¹æ–‡æ¡£ç´¢å¼•
- âœ… ä¸»æ–‡æ¡£ç´¢å¼•

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœæ‚¨å‘ç°æ–‡æ¡£ä¸­çš„é”™è¯¯æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·ï¼š

1. åˆ›å»º Issue æè¿°é—®é¢˜
2. æäº¤ PR ä¿®å¤æ–‡æ¡£
3. è”ç³»æ–‡æ¡£ç»´æŠ¤è€…

---

**ç»´æŠ¤è€…ï¼š** TradingFlow å¼€å‘å›¢é˜Ÿ  
**è”ç³»æ–¹å¼ï¼š** é€šè¿‡é¡¹ç›® Issue åé¦ˆ  
**æœ€åæ›´æ–°ï¼š** 2025-10-06
